## ü™™ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

### üÜï POST `/certificates`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–¥–∞—á–∞ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** —Ç—Ä–µ–±—É–µ—Ç—Å—è (JWT, —Ç–æ–ª—å–∫–æ ADMIN)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "email": "user@example.com",
  "level": "–ö—É—Ä–∞—Ç–æ—Ä",
  "issuedAt": "2025-06-01",
  "expiresAt": "2026-06-01",
  "fileUrl": "https://example.com/cert.pdf"
}
```

**–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞:**

1. –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
2. –û—á–∏—Å—Ç–∫–∞ `activeForUserId`
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∏–ª–∏ –Ω–µ—Ç (—Ç–æ—Ç –∂–µ —É—Ä–æ–≤–µ–Ω—å)
4. CEU –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ
5. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å `isActive: true`
6. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É (`level`) –∏ –≤ `–û–ø—ã—Ç–Ω—ã–π level`, –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ

**–û—Ç–≤–µ—Ç:**

```json
{
  "success": true,
  "certificate": { ... },
  "extended": true
}
```

**–û—à–∏–±–∫–∏:**

- 403 ‚Äî –Ω–µ—Ç –ø—Ä–∞–≤
- 404 ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω

---

## üîß –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤

```ts
// routes/certificates.ts
app.post('/certificates', { preHandler: verifyToken }, createCertificate);
```

---

## üè∑Ô∏è –ì—Ä—É–ø–ø—ã

### ‚ûï POST `/groups/:groupId/add-user`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É –ø–æ ID –≥—Ä—É–ø–ø—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞).

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** —Ç—Ä–µ–±—É–µ—Ç—Å—è (JWT, ADMIN)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "userId": "..."
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "success": true
}
```

**–û—à–∏–±–∫–∏:**

- 400 ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç userId –∏–ª–∏ groupId
- 403 ‚Äî –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- 404 ‚Äî –≥—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- 500 ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### ‚ûñ POST `/groups/:groupId/remove-user`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –≥—Ä—É–ø–ø—ã –ø–æ ID (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞).

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** —Ç—Ä–µ–±—É–µ—Ç—Å—è (JWT, ADMIN)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "userId": "..."
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "success": true
}
```

**–û—à–∏–±–∫–∏:**

- 400 ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç userId –∏–ª–∏ groupId
- 403 ‚Äî –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- 404 ‚Äî –≥—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- 500 ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### üìã GET `/groups`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –≥—Ä—É–ø–ø –≤ —Å–∏—Å—Ç–µ–º–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞).

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** —Ç—Ä–µ–±—É–µ—Ç—Å—è (JWT, ADMIN)

**–û—Ç–≤–µ—Ç:**

```json
[
  {
    "id": "...",
    "name": "–°—É–ø–µ—Ä–≤–∏–∑–æ—Ä—ã"
  },
  ...
]
```

**–û—à–∏–±–∫–∏:**

- 403 ‚Äî –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞

---

### üë• GET `/groups/:groupId/users`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤—Ö–æ–¥—è—â–∏—Ö –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –≥—Ä—É–ø–ø—É.

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** —Ç—Ä–µ–±—É–µ—Ç—Å—è (JWT, ADMIN)

**–û—Ç–≤–µ—Ç:**

```json
[
  {
    "id": "...",
    "email": "user@example.com",
    "fullName": "–ò–º—è –§–∞–º–∏–ª–∏—è"
  },
  ...
]
```

**–û—à–∏–±–∫–∏:**

- 403 ‚Äî –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- 404 ‚Äî –≥—Ä—É–ø–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

---

## üîß –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤

```ts
// routes/groups.ts
app.post('/groups/:groupId/add-user', { preHandler: verifyToken }, addUserToGroupHandler);
app.post('/groups/:groupId/remove-user', { preHandler: verifyToken }, removeUserFromGroupHandler);
app.get('/groups', { preHandler: verifyToken }, listGroupsHandler);
app.get('/groups/:groupId/users', { preHandler: verifyToken }, listUsersInGroupHandler);
```
